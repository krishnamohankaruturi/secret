<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.ku.cete.model.test.StimulusVariantDao" >
  <resultMap id="BaseResultMap" type="edu.ku.cete.domain.test.StimulusVariant" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="externalid" property="externalId" jdbcType="BIGINT" />
    <result column="version" property="version" jdbcType="INTEGER" />
    <result column="stimulusformatid" property="stimulusFormatId" jdbcType="BIGINT" />
    <result column="stimuluscontent" property="stimulusContent" jdbcType="VARCHAR" />
    <result column="stimulustitle" property="stimulusTitle" jdbcType="VARCHAR" />
    <result column="gradecourseid" property="gradeCourseId" jdbcType="BIGINT" />
    <result column="testingprogramid" property="testingProgramId" jdbcType="BIGINT" />
    <result column="contentareaid" property="contentAreaId" jdbcType="BIGINT" />
    <result column="createdate" property="createDate" jdbcType="TIMESTAMP" />
    <result column="modifieddate" property="modifiedDate" jdbcType="TIMESTAMP" />
    <result column="originationcode" property="originationCode" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    id, externalid, version, stimulusformatid, stimuluscontent, stimulustitle, gradecourseid, 
    testingprogramid, contentareaid, createdate, modifieddate, originationcode
  </sql>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="edu.ku.cete.domain.test.StimulusVariantExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from public.stimulusvariant
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    select 
    <include refid="Base_Column_List" />
    from public.stimulusvariant
    where id = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    delete from public.stimulusvariant
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <delete id="deleteByExample" parameterType="edu.ku.cete.domain.test.StimulusVariantExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    delete from public.stimulusvariant
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="edu.ku.cete.domain.test.StimulusVariant" useGeneratedKeys="true" keyColumn="id" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    insert into public.stimulusvariant (externalid, version, 
      stimulusformatid, stimuluscontent, stimulustitle, 
      gradecourseid, testingprogramid, contentareaid,
      createdate, modifieddate, originationcode
      )
    values (#{externalid,jdbcType=BIGINT}, #{version,jdbcType=INTEGER}, 
      #{stimulusformatid,jdbcType=BIGINT}, #{stimuluscontent,jdbcType=VARCHAR}, #{stimulustitle,jdbcType=VARCHAR}, 
      #{gradecourseid,jdbcType=BIGINT}, #{testingprogramid,jdbcType=BIGINT}, #{contentareaid,jdbcType=BIGINT}, 
      #{createdate,jdbcType=TIMESTAMP}, #{modifieddate,jdbcType=TIMESTAMP}, #{originationcode,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="edu.ku.cete.domain.test.StimulusVariant" useGeneratedKeys="true" keyColumn="id" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    insert into public.stimulusvariant
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="externalid != null" >
        externalid,
      </if>
      <if test="version != null" >
        version,
      </if>
      <if test="stimulusformatid != null" >
        stimulusformatid,
      </if>
      <if test="stimuluscontent != null" >
        stimuluscontent,
      </if>
      <if test="stimulustitle != null" >
        stimulustitle,
      </if>
      <if test="gradecourseid != null" >
        gradecourseid,
      </if>
      <if test="testingprogramid != null" >
        testingprogramid,
      </if>
      <if test="contentareaid != null" >
        contentareaid,
      </if>
      <if test="createdate != null" >
        createdate,
      </if>
      <if test="modifieddate != null" >
        modifieddate,
      </if>
      <if test="originationcode != null" >
        originationcode,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="externalid != null" >
        #{externalid,jdbcType=BIGINT},
      </if>
      <if test="version != null" >
        #{version,jdbcType=INTEGER},
      </if>
      <if test="stimulusformatid != null" >
        #{stimulusformatid,jdbcType=BIGINT},
      </if>
      <if test="stimuluscontent != null" >
        #{stimuluscontent,jdbcType=VARCHAR},
      </if>
      <if test="stimulustitle != null" >
        #{stimulustitle,jdbcType=VARCHAR},
      </if>
      <if test="gradecourseid != null" >
        #{gradecourseid,jdbcType=BIGINT},
      </if>
      <if test="testingprogramid != null" >
        #{testingprogramid,jdbcType=BIGINT},
      </if>
      <if test="contentareaid != null" >
        #{contentareaid,jdbcType=BIGINT},
      </if>
      <if test="createdate != null" >
        #{createdate,jdbcType=TIMESTAMP},
      </if>
      <if test="modifieddate != null" >
        #{modifieddate,jdbcType=TIMESTAMP},
      </if>
      <if test="originationcode != null" >
        #{originationcode,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="edu.ku.cete.domain.test.StimulusVariantExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    select count(*) from public.stimulusvariant
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    update public.stimulusvariant
    <set >
      <if test="record.id != null" >
        id = #{record.id,jdbcType=BIGINT},
      </if>
      <if test="record.externalid != null" >
        externalid = #{record.externalid,jdbcType=BIGINT},
      </if>
      <if test="record.version != null" >
        version = #{record.version,jdbcType=INTEGER},
      </if>
      <if test="record.stimulusformatid != null" >
        stimulusformatid = #{record.stimulusformatid,jdbcType=BIGINT},
      </if>
      <if test="record.stimuluscontent != null" >
        stimuluscontent = #{record.stimuluscontent,jdbcType=VARCHAR},
      </if>
      <if test="record.stimulustitle != null" >
        stimulustitle = #{record.stimulustitle,jdbcType=VARCHAR},
      </if>
      <if test="record.gradecourseid != null" >
        gradecourseid = #{record.gradecourseid,jdbcType=BIGINT},
      </if>
      <if test="record.testingprogramid != null" >
        testingprogramid = #{record.testingprogramid,jdbcType=BIGINT},
      </if>
      <if test="record.contentareaid != null" >
        contentareaid = #{record.contentareaid,jdbcType=BIGINT},
      </if>
      <if test="record.createdate != null" >
        createdate = #{record.createdate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.modifieddate != null" >
        modifieddate = #{record.modifieddate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.originationcode != null" >
        originationcode = #{record.originationcode,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    update public.stimulusvariant
    set id = #{record.id,jdbcType=BIGINT},
      externalid = #{record.externalid,jdbcType=BIGINT},
      version = #{record.version,jdbcType=INTEGER},
      stimulusformatid = #{record.stimulusformatid,jdbcType=BIGINT},
      stimuluscontent = #{record.stimuluscontent,jdbcType=VARCHAR},
      stimulustitle = #{record.stimulustitle,jdbcType=VARCHAR},
      gradecourseid = #{record.gradecourseid,jdbcType=BIGINT},
      testingprogramid = #{record.testingprogramid,jdbcType=BIGINT},
      contentareaid = #{record.contentareaid,jdbcType=BIGINT},
      createdate = #{record.createdate,jdbcType=TIMESTAMP},
      modifieddate = #{record.modifieddate,jdbcType=TIMESTAMP},
      originationcode = #{record.originationcode,jdbcType=VARCHAR}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="edu.ku.cete.domain.test.StimulusVariant" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    update public.stimulusvariant
    <set >
      <if test="externalid != null" >
        externalid = #{externalid,jdbcType=BIGINT},
      </if>
      <if test="version != null" >
        version = #{version,jdbcType=INTEGER},
      </if>
      <if test="stimulusformatid != null" >
        stimulusformatid = #{stimulusformatid,jdbcType=BIGINT},
      </if>
      <if test="stimuluscontent != null" >
        stimuluscontent = #{stimuluscontent,jdbcType=VARCHAR},
      </if>
      <if test="stimulustitle != null" >
        stimulustitle = #{stimulustitle,jdbcType=VARCHAR},
      </if>
      <if test="gradecourseid != null" >
        gradecourseid = #{gradecourseid,jdbcType=BIGINT},
      </if>
      <if test="testingprogramid != null" >
        testingprogramid = #{testingprogramid,jdbcType=BIGINT},
      </if>
      <if test="contentareaid != null" >
        contentareaid = #{contentareaid,jdbcType=BIGINT},
      </if>
      <if test="createdate != null" >
        createdate = #{createdate,jdbcType=TIMESTAMP},
      </if>
      <if test="modifieddate != null" >
        modifieddate = #{modifieddate,jdbcType=TIMESTAMP},
      </if>
      <if test="originationcode != null" >
        originationcode = #{originationcode,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="edu.ku.cete.domain.test.StimulusVariant" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 25 01:06:31 CDT 2012.
    -->
    update public.stimulusvariant
    set externalid = #{externalid,jdbcType=BIGINT},
      version = #{version,jdbcType=INTEGER},
      stimulusformatid = #{stimulusformatid,jdbcType=BIGINT},
      stimuluscontent = #{stimuluscontent,jdbcType=VARCHAR},
      stimulustitle = #{stimulustitle,jdbcType=VARCHAR},
      gradecourseid = #{gradecourseid,jdbcType=BIGINT},
      testingprogramid = #{testingprogramid,jdbcType=BIGINT},
      contentareaid = #{contentareaid,jdbcType=BIGINT},
      createdate = #{createdate,jdbcType=TIMESTAMP},
      modifieddate = #{modifieddate,jdbcType=TIMESTAMP},
      originationcode = #{originationcode,jdbcType=VARCHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>
  
   <select id="getStimulusVariantByTestletId" resultMap="BaseResultMap" parameterType="java.lang.Long" >
   select sv.id, sv.externalid, sv.version, sv.stimulusformatid, sv.stimuluscontent, sv.stimulustitle, sv.gradecourseid, 
    sv.testingprogramid, sv.contentareaid, sv.createdate, sv.modifieddate, sv.originationcode
    from stimulusvariant sv
    inner join testletstimulusvariants tsv on tsv.stimulusvariantid=sv.id
    where 
	tsv.testletid=#{testLetId,jdbcType=BIGINT}
	order by  tsv.groupnumber Asc 
  </select>
  <select id="getStimulusVariantByTaskVariantId" resultMap="BaseResultMap" parameterType="java.lang.Long" >
  select sv.id, sv.externalid, sv.version, sv.stimulusformatid, sv.stimuluscontent, sv.stimulustitle, sv.gradecourseid, 
    sv.testingprogramid, sv.contentareaid, sv.createdate, sv.modifieddate, sv.originationcode
    from stimulusvariant sv
    inner join taskvariantsstimulusvariants tvsv on tvsv.stimulusvariantid=sv.id
    where 
	tvsv.taskvariantid=#{taskVariantId,jdbcType=BIGINT}
  </select>
     <select id="getStimulusVariantByTaskVariantIdFortestlet" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    select sv.id, sv.externalid, sv.version, sv.stimulusformatid, sv.stimuluscontent, sv.stimulustitle, sv.gradecourseid, 
    sv.testingprogramid, sv.contentareaid, sv.createdate, sv.modifieddate, sv.originationcode
    from stimulusvariant sv
    inner join  taskvariant tv on  tv.contextstimulusid=sv.id
    where 
     tv.id = #{taskVariantId,jdbcType=BIGINT}
  </select>
</mapper>