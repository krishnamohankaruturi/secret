<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.ku.cete.model.CombinedLevelMapMapper" >
  <resultMap id="BaseResultMap" type="edu.ku.cete.domain.CombinedLevelMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 11 10:55:31 CST 2016.
    -->
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="schoolyear" property="schoolYear" jdbcType="BIGINT" />
    <result column="assessmentprogramid" property="assessmentProgramId" jdbcType="BIGINT" />
    <result column="subjectid" property="subjectId" jdbcType="BIGINT" />
    <result column="gradeid" property="gradeId" jdbcType="BIGINT" />
    <result column="stageslowscalescore" property="stagesLowScaleScore" jdbcType="BIGINT" />
    <result column="stageshighscalescore" property="stagesHighScaleScore" jdbcType="BIGINT" />
    <result column="performancescalescore" property="performanceScaleScore" jdbcType="NUMERIC" />
    <result column="combinedlevel" property="combinedLevel" jdbcType="NUMERIC" />
    <result column="batchuploadid" property="batchUploadId" jdbcType="BIGINT" />
    <result column="createddate" property="createdDate" jdbcType="TIMESTAMP" />
    <result column="createduser" property="createdUser" jdbcType="BIGINT" />
    <result column="modifieddate" property="modifiedDate" jdbcType="TIMESTAMP" />
    <result column="modifieduser" property="modifiedUser" jdbcType="BIGINT" />
    <result column="activeflag" property="activeFlag" jdbcType="BIT" />
    <result column="comment" property="comment" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 11 10:55:31 CST 2016.
    -->
    id, schoolyear, assessmentprogramid, subjectid, gradeid, stageslowscalescore, stageshighscalescore, 
    performancescalescore, combinedlevel, batchuploadid, createddate, createduser, modifieddate, 
    modifieduser, activeflag, comment
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 11 10:55:31 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from combinedlevelmap
    where id = #{id,jdbcType=BIGINT}
  </select>
  <insert id="insert" parameterType="edu.ku.cete.domain.CombinedLevelMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 11 10:55:31 CST 2016.
    -->
    <selectKey resultType="java.lang.Long" keyProperty="id" order="BEFORE" >
      SELECT nextval('combinedlevelmap_id_seq')
    </selectKey>
    insert into combinedlevelmap (id, schoolyear, assessmentprogramid, 
      subjectid, gradeid, stageslowscalescore, 
      stageshighscalescore, performancescalescore, 
      combinedlevel, batchuploadid, createddate, 
      createduser, modifieddate, modifieduser, 
      activeflag, comment)
    values (#{id,jdbcType=BIGINT}, #{schoolYear,jdbcType=BIGINT}, #{assessmentProgramId,jdbcType=BIGINT}, 
      #{subjectId,jdbcType=BIGINT}, #{gradeId,jdbcType=BIGINT}, #{stagesLowScaleScore,jdbcType=BIGINT}, 
      #{stagesHighScaleScore,jdbcType=BIGINT}, #{performanceScaleScore,jdbcType=NUMERIC}, 
      #{combinedLevel,jdbcType=NUMERIC}, #{batchUploadId,jdbcType=BIGINT}, #{createdDate,jdbcType=TIMESTAMP}, 
      #{createdUser,jdbcType=BIGINT}, #{modifiedDate,jdbcType=TIMESTAMP}, #{modifiedUser,jdbcType=BIGINT}, 
      #{activeFlag,jdbcType=BIT}, #{comment,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="edu.ku.cete.domain.CombinedLevelMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 11 10:55:31 CST 2016.
    -->
    <selectKey resultType="java.lang.Long" keyProperty="id" order="BEFORE" >
      SELECT nextval('combinedlevelmap_id_seq')
    </selectKey>
    insert into combinedlevelmap
    <trim prefix="(" suffix=")" suffixOverrides="," >
      id,
      <if test="schoolYear != null" >
        schoolyear,
      </if>
      <if test="assessmentProgramId != null" >
        assessmentprogramid,
      </if>
      <if test="subjectId != null" >
        subjectid,
      </if>
      <if test="gradeId != null" >
        gradeid,
      </if>
      <if test="stagesLowScaleScore != null" >
        stageslowscalescore,
      </if>
      <if test="stagesHighScaleScore != null" >
        stageshighscalescore,
      </if>
      <if test="performanceScaleScore != null" >
        performancescalescore,
      </if>
      <if test="combinedLevel != null" >
        combinedlevel,
      </if>
      <if test="batchUploadId != null" >
        batchuploadid,
      </if>
      <if test="createdDate != null" >
        createddate,
      </if>
      <if test="createdUser != null" >
        createduser,
      </if>
      <if test="modifiedDate != null" >
        modifieddate,
      </if>
      <if test="modifiedUser != null" >
        modifieduser,
      </if>
      <if test="activeFlag != null" >
        activeflag,
      </if>
      <if test="comment != null" >
        comment,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      #{id,jdbcType=BIGINT},
      <if test="schoolYear != null" >
        #{schoolYear,jdbcType=BIGINT},
      </if>
      <if test="assessmentProgramId != null" >
        #{assessmentProgramId,jdbcType=BIGINT},
      </if>
      <if test="subjectId != null" >
        #{subjectId,jdbcType=BIGINT},
      </if>
      <if test="gradeId != null" >
        #{gradeId,jdbcType=BIGINT},
      </if>
      <if test="stagesLowScaleScore != null" >
        #{stagesLowScaleScore,jdbcType=BIGINT},
      </if>
      <if test="stagesHighScaleScore != null" >
        #{stagesHighScaleScore,jdbcType=BIGINT},
      </if>
      <if test="performanceScaleScore != null" >
        #{performanceScaleScore,jdbcType=NUMERIC},
      </if>
      <if test="combinedLevel != null" >
        #{combinedLevel,jdbcType=NUMERIC},
      </if>
      <if test="batchUploadId != null" >
        #{batchUploadId,jdbcType=BIGINT},
      </if>
      <if test="createdDate != null" >
        #{createdDate,jdbcType=TIMESTAMP},
      </if>
      <if test="createdUser != null" >
        #{createdUser,jdbcType=BIGINT},
      </if>
      <if test="modifiedDate != null" >
        #{modifiedDate,jdbcType=TIMESTAMP},
      </if>
      <if test="modifiedUser != null" >
        #{modifiedUser,jdbcType=BIGINT},
      </if>
      <if test="activeFlag != null" >
        #{activeFlag,jdbcType=BIT},
      </if>
      <if test="comment != null" >
        #{comment,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="edu.ku.cete.domain.CombinedLevelMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 11 10:55:31 CST 2016.
    -->
    update combinedlevelmap
    <set >
      <if test="schoolYear != null" >
        schoolyear = #{schoolYear,jdbcType=BIGINT},
      </if>
      <if test="assessmentProgramId != null" >
        assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT},
      </if>
      <if test="subjectId != null" >
        subjectid = #{subjectId,jdbcType=BIGINT},
      </if>
      <if test="gradeId != null" >
        gradeid = #{gradeId,jdbcType=BIGINT},
      </if>
      <if test="stagesLowScaleScore != null" >
        stageslowscalescore = #{stagesLowScaleScore,jdbcType=BIGINT},
      </if>
      <if test="stagesHighScaleScore != null" >
        stageshighscalescore = #{stagesHighScaleScore,jdbcType=BIGINT},
      </if>
      <if test="performanceScaleScore != null" >
        performancescalescore = #{performanceScaleScore,jdbcType=NUMERIC},
      </if>
      <if test="combinedLevel != null" >
        combinedlevel = #{combinedLevel,jdbcType=NUMERIC},
      </if>
      <if test="batchUploadId != null" >
        batchuploadid = #{batchUploadId,jdbcType=BIGINT},
      </if>
      <if test="createdDate != null" >
        createddate = #{createdDate,jdbcType=TIMESTAMP},
      </if>
      <if test="createdUser != null" >
        createduser = #{createdUser,jdbcType=BIGINT},
      </if>
      <if test="modifiedDate != null" >
        modifieddate = #{modifiedDate,jdbcType=TIMESTAMP},
      </if>
      <if test="modifiedUser != null" >
        modifieduser = #{modifiedUser,jdbcType=BIGINT},
      </if>
      <if test="activeFlag != null" >
        activeflag = #{activeFlag,jdbcType=BIT},
      </if>
      <if test="comment != null" >
        comment = #{comment,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="edu.ku.cete.domain.CombinedLevelMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 11 10:55:31 CST 2016.
    -->
    update combinedlevelmap
    set schoolyear = #{schoolYear,jdbcType=BIGINT},
      assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT},
      subjectid = #{subjectId,jdbcType=BIGINT},
      gradeid = #{gradeId,jdbcType=BIGINT},
      stageslowscalescore = #{stagesLowScaleScore,jdbcType=BIGINT},
      stageshighscalescore = #{stagesHighScaleScore,jdbcType=BIGINT},
      performancescalescore = #{performanceScaleScore,jdbcType=NUMERIC},
      combinedlevel = #{combinedLevel,jdbcType=NUMERIC},
      batchuploadid = #{batchUploadId,jdbcType=BIGINT},
      createddate = #{createdDate,jdbcType=TIMESTAMP},
      createduser = #{createdUser,jdbcType=BIGINT},
      modifieddate = #{modifiedDate,jdbcType=TIMESTAMP},
      modifieduser = #{modifiedUser,jdbcType=BIGINT},
      activeflag = #{activeFlag,jdbcType=BIT},
      comment = #{comment,jdbcType=VARCHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>
  
  <delete id="deleteCombinedLevelMap">
    delete from combinedlevelmap
    where assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT} and subjectid = #{subjectId,jdbcType=BIGINT}
    <if test="schoolYear != null">
    	and schoolyear = #{schoolYear,jdbcType=BIGINT}
    </if>
  </delete>
  
  <delete id="deleteAllCombinedLevelMap">
    delete from combinedlevelmap
    <if test="schoolYear != null">
    	where schoolyear = #{schoolYear,jdbcType=BIGINT}
    </if>
  </delete>
  
  <select id="getCombinedLevelBasedOnAssessmentProgramSubjectGradeYear" resultMap="BaseResultMap">
   select * from combinedlevelmap
   where assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT} and subjectid = #{subjectId,jdbcType=BIGINT} 
  	 and gradeid = #{gradeId,jdbcType=BIGINT} 
   <if test="schoolYear != null">
   	 and schoolyear = #{schoolYear,jdbcType=BIGINT}
   </if>
  </select>
  
</mapper>