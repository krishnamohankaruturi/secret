<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.ku.cete.model.OperationalTestWindowStudentMapper">
  <resultMap id="BaseResultMap" type="edu.ku.cete.domain.OperationalTestWindowStudent">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 05 16:24:16 CST 2016.
    -->
    <result column="studentid" jdbcType="BIGINT" property="studentId" />
    <result column="contentareaid" jdbcType="BIGINT" property="contentAreaId" />
    <result column="courseid" jdbcType="BIGINT" property="courseId" />
    <result column="exclude" jdbcType="BIT" property="exclude" />
    <result column="activeflag" jdbcType="BIT" property="activeFlag" />
    <result column="operationaltestwindowid" jdbcType="BIGINT" property="operationalTestWindowId" />
    <result column="createddate" jdbcType="TIMESTAMP" property="createdDate" />
  </resultMap>
  <insert id="insert" parameterType="edu.ku.cete.domain.OperationalTestWindowStudent">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 05 16:24:16 CST 2016.
    -->
    insert into operationaltestwindowstudent (studentid, contentareaid, courseid, 
      exclude, activeflag, operationaltestwindowid, 
      createddate)
    values (#{studentId,jdbcType=BIGINT}, #{contentAreaId,jdbcType=BIGINT}, #{courseId,jdbcType=BIGINT}, 
      #{exclude,jdbcType=BIT}, #{activeFlag,jdbcType=BIT}, #{operationalTestWindowId,jdbcType=BIGINT}, 
      #{createdDate,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="edu.ku.cete.domain.OperationalTestWindowStudent">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 05 16:24:16 CST 2016.
    -->
    insert into operationaltestwindowstudent
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="studentId != null">
        studentid,
      </if>
      <if test="contentAreaId != null">
        contentareaid,
      </if>
      <if test="courseId != null">
        courseid,
      </if>
      <if test="exclude != null">
        exclude,
      </if>
      <if test="activeFlag != null">
        activeflag,
      </if>
      <if test="operationalTestWindowId != null">
        operationaltestwindowid,
      </if>
      <if test="createdDate != null">
        createddate,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="studentId != null">
        #{studentId,jdbcType=BIGINT},
      </if>
      <if test="contentAreaId != null">
        #{contentAreaId,jdbcType=BIGINT},
      </if>
      <if test="courseId != null">
        #{courseId,jdbcType=BIGINT},
      </if>
      <if test="exclude != null">
        #{exclude,jdbcType=BIT},
      </if>
      <if test="activeFlag != null">
        #{activeFlag,jdbcType=BIT},
      </if>
      <if test="operationalTestWindowId != null">
        #{operationalTestWindowId,jdbcType=BIGINT},
      </if>
      <if test="createdDate != null">
        #{createdDate,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  
	<update id="update" parameterType="edu.ku.cete.domain.OperationalTestWindowStudent" >    
	    UPDATE operationaltestwindowstudent
	    SET contentareaid = #{contentAreaId,jdbcType=BIGINT},
	    courseid = #{courseId,jdbcType=BIGINT}, 
      	exclude = #{exclude,jdbcType=BIT}
      	where operationaltestwindowid = #{operationalTestWindowId,jdbcType=BIGINT}
      	and studentid = #{studentId,jdbcType=BIGINT}
	</update>

	<update id="updateSelective" parameterType="edu.ku.cete.domain.OperationalTestWindowStudent" >    
	    UPDATE operationaltestwindowstudent
      	<set >
			<if test="contentAreaId != null" >
			  contentareaid = #{contentAreaId,jdbcType=BIGINT},
			</if>
			<if test="courseId != null" >
			  courseid = #{courseId,jdbcType=BIGINT},
			</if>
			<if test="exclude != null" >
			  exclude = #{exclude,jdbcType=BIT},
			</if>
			<if test="exclude != null" >
				activeflag = #{activeFlag}
			</if>
    	</set>
		where operationaltestwindowid = #{operationalTestWindowId,jdbcType=BIGINT}
      	and studentid = #{studentId,jdbcType=BIGINT}
      	<if test="contentAreaId != null" >
			and contentareaid = #{contentAreaId,jdbcType=BIGINT}
		</if>
		<if test="courseId != null" >
			and courseid = #{courseId,jdbcType=BIGINT}
		</if>
	</update>

	<select id="findByOperationalTestWindowStudent" resultMap="BaseResultMap" parameterType="edu.ku.cete.domain.OperationalTestWindowStudent">
		select studentid, contentareaid, courseid, exclude, activeflag, operationaltestwindowid, createddate
			from operationaltestwindowstudent
			where operationaltestwindowid = #{operationalTestWindowId,jdbcType=BIGINT}
			and studentid = #{studentId,jdbcType=BIGINT}
			and contentareaid = #{contentAreaId,jdbcType=BIGINT}
			<if test="courseId != null">
				and courseid = #{courseId,jdbcType=BIGINT}
			</if> 
	</select>

</mapper>