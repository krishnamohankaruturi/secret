<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.ku.cete.model.SubscoresDescriptionMapper">
  <resultMap id="BaseResultMap" type="edu.ku.cete.domain.report.SubscoresDescription">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue May 17 11:34:57 CDT 2016.
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="schoolyear" jdbcType="BIGINT" property="schoolYear" />
    <result column="assessmentprogramid" jdbcType="BIGINT" property="assessmentProgramId" />
    <result column="subjectid" jdbcType="BIGINT" property="subjectId" />
    <result column="report" jdbcType="VARCHAR" property="report" />
    <result column="subscoredefinitionname" jdbcType="VARCHAR" property="subscoreDefinitionName" />
    <result column="subscorereportdisplayname" jdbcType="VARCHAR" property="subscoreReportDisplayName" />
    <result column="subscorereportdescription" jdbcType="VARCHAR" property="subscoreReportDescription" />
    <result column="subscoredisplaysequence" jdbcType="INTEGER" property="subscoreDisplaySequence" />
    <result column="batchuploadid" jdbcType="BIGINT" property="batchUploadId" />
    <result column="createddate" jdbcType="TIMESTAMP" property="createdDate" />
    <result column="sectionlinebelowflag" jdbcType="BIT" property="sectionLineBelowFlag" />
    <result column="indentneededflag" jdbcType="BIT" property="indentNeededFlag" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue May 17 11:34:57 CDT 2016.
    -->
    id, schoolyear, assessmentprogramid, subjectid, report, subscoredefinitionname, subscorereportdisplayname, 
    subscorereportdescription, subscoredisplaysequence, batchuploadid, createddate, sectionlinebelowflag, 
    indentneededflag
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue May 17 11:34:57 CDT 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from subscoresdescription
    where id = #{id,jdbcType=BIGINT}
  </select>
  <insert id="insert" parameterType="edu.ku.cete.domain.report.SubscoresDescription">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue May 17 11:34:57 CDT 2016.
    -->
    <selectKey keyProperty="id" order="BEFORE" resultType="java.lang.Long">
      SELECT nextval('subscoresdescription_id_seq')
    </selectKey>
    insert into subscoresdescription (id, schoolyear, assessmentprogramid, 
      subjectid, report, subscoredefinitionname, 
      subscorereportdisplayname, subscorereportdescription, 
      subscoredisplaysequence, batchuploadid, 
      createddate, sectionlinebelowflag, indentneededflag
      )
    values (#{id,jdbcType=BIGINT}, #{schoolYear,jdbcType=BIGINT}, #{assessmentProgramId,jdbcType=BIGINT}, 
      #{subjectId,jdbcType=BIGINT}, #{report,jdbcType=VARCHAR}, #{subscoreDefinitionName,jdbcType=VARCHAR}, 
      #{subscoreReportDisplayName,jdbcType=VARCHAR}, #{subscoreReportDescription,jdbcType=VARCHAR}, 
      #{subscoreDisplaySequence,jdbcType=INTEGER}, #{batchUploadId,jdbcType=BIGINT}, 
      #{createdDate,jdbcType=TIMESTAMP}, #{sectionLineBelowFlag,jdbcType=BIT}, #{indentNeededFlag,jdbcType=BIT}
      )
  </insert>
  <insert id="insertSelective" parameterType="edu.ku.cete.domain.report.SubscoresDescription">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue May 17 11:34:57 CDT 2016.
    -->
    <selectKey keyProperty="id" order="BEFORE" resultType="java.lang.Long">
      SELECT nextval('subscoresdescription_id_seq')
    </selectKey>
    insert into subscoresdescription
    <trim prefix="(" suffix=")" suffixOverrides=",">
      id,
      <if test="schoolYear != null">
        schoolyear,
      </if>
      <if test="assessmentProgramId != null">
        assessmentprogramid,
      </if>
      <if test="subjectId != null">
        subjectid,
      </if>
      <if test="report != null">
        report,
      </if>
      <if test="subscoreDefinitionName != null">
        subscoredefinitionname,
      </if>
      <if test="subscoreReportDisplayName != null">
        subscorereportdisplayname,
      </if>
      <if test="subscoreReportDescription != null">
        subscorereportdescription,
      </if>
      <if test="subscoreDisplaySequence != null">
        subscoredisplaysequence,
      </if>
      <if test="batchUploadId != null">
        batchuploadid,
      </if>
      <if test="createdDate != null">
        createddate,
      </if>
      <if test="sectionLineBelowFlag != null">
        sectionlinebelowflag,
      </if>
      <if test="indentNeededFlag != null">
        indentneededflag,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      #{id,jdbcType=BIGINT},
      <if test="schoolYear != null">
        #{schoolYear,jdbcType=BIGINT},
      </if>
      <if test="assessmentProgramId != null">
        #{assessmentProgramId,jdbcType=BIGINT},
      </if>
      <if test="subjectId != null">
        #{subjectId,jdbcType=BIGINT},
      </if>
      <if test="report != null">
        #{report,jdbcType=VARCHAR},
      </if>
      <if test="subscoreDefinitionName != null">
        #{subscoreDefinitionName,jdbcType=VARCHAR},
      </if>
      <if test="subscoreReportDisplayName != null">
        #{subscoreReportDisplayName,jdbcType=VARCHAR},
      </if>
      <if test="subscoreReportDescription != null">
        #{subscoreReportDescription,jdbcType=VARCHAR},
      </if>
      <if test="subscoreDisplaySequence != null">
        #{subscoreDisplaySequence,jdbcType=INTEGER},
      </if>
      <if test="batchUploadId != null">
        #{batchUploadId,jdbcType=BIGINT},
      </if>
      <if test="createdDate != null">
        #{createdDate,jdbcType=TIMESTAMP},
      </if>
      <if test="sectionLineBelowFlag != null">
        #{sectionLineBelowFlag,jdbcType=BIT},
      </if>
      <if test="indentNeededFlag != null">
        #{indentNeededFlag,jdbcType=BIT},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="edu.ku.cete.domain.report.SubscoresDescription">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue May 17 11:34:57 CDT 2016.
    -->
    update subscoresdescription
    <set>
      <if test="schoolYear != null">
        schoolyear = #{schoolYear,jdbcType=BIGINT},
      </if>
      <if test="assessmentProgramId != null">
        assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT},
      </if>
      <if test="subjectId != null">
        subjectid = #{subjectId,jdbcType=BIGINT},
      </if>
      <if test="report != null">
        report = #{report,jdbcType=VARCHAR},
      </if>
      <if test="subscoreDefinitionName != null">
        subscoredefinitionname = #{subscoreDefinitionName,jdbcType=VARCHAR},
      </if>
      <if test="subscoreReportDisplayName != null">
        subscorereportdisplayname = #{subscoreReportDisplayName,jdbcType=VARCHAR},
      </if>
      <if test="subscoreReportDescription != null">
        subscorereportdescription = #{subscoreReportDescription,jdbcType=VARCHAR},
      </if>
      <if test="subscoreDisplaySequence != null">
        subscoredisplaysequence = #{subscoreDisplaySequence,jdbcType=INTEGER},
      </if>
      <if test="batchUploadId != null">
        batchuploadid = #{batchUploadId,jdbcType=BIGINT},
      </if>
      <if test="createdDate != null">
        createddate = #{createdDate,jdbcType=TIMESTAMP},
      </if>
      <if test="sectionLineBelowFlag != null">
        sectionlinebelowflag = #{sectionLineBelowFlag,jdbcType=BIT},
      </if>
      <if test="indentNeededFlag != null">
        indentneededflag = #{indentNeededFlag,jdbcType=BIT},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="edu.ku.cete.domain.report.SubscoresDescription">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue May 17 11:34:57 CDT 2016.
    -->
    update subscoresdescription
    set schoolyear = #{schoolYear,jdbcType=BIGINT},
      assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT},
      subjectid = #{subjectId,jdbcType=BIGINT},
      report = #{report,jdbcType=VARCHAR},
      subscoredefinitionname = #{subscoreDefinitionName,jdbcType=VARCHAR},
      subscorereportdisplayname = #{subscoreReportDisplayName,jdbcType=VARCHAR},
      subscorereportdescription = #{subscoreReportDescription,jdbcType=VARCHAR},
      subscoredisplaysequence = #{subscoreDisplaySequence,jdbcType=INTEGER},
      batchuploadid = #{batchUploadId,jdbcType=BIGINT},
      createddate = #{createdDate,jdbcType=TIMESTAMP},
      sectionlinebelowflag = #{sectionLineBelowFlag,jdbcType=BIT},
      indentneededflag = #{indentNeededFlag,jdbcType=BIT}
    where id = #{id,jdbcType=BIGINT}
  </update>
  
   <delete id="deleteAll">
    delete from subscoresdescription
    <if test="schoolYear != null">
    	where schoolyear = #{schoolYear,jdbcType=BIGINT}
     </if>
  </delete>
  
  <delete id="deleteSubscoresDescriptions">
    delete from subscoresdescription
    where assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT} and subjectid = #{subjectId,jdbcType=BIGINT}
     <if test="schoolYear != null">
    	and schoolyear = #{schoolYear,jdbcType=BIGINT}
     </if>
  </delete>
  
  <select id="checkForDuplicateSequenceForReport" resultType="java.lang.Integer">
  	select  count(*)
   	from subscoresdescription 
   	where assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT} 
   		and subjectid = #{subjectId,jdbcType=BIGINT}
   		and report = #{report,jdbcType=VARCHAR} 
   		and subscoredefinitionname != #{subScoreDefinitionName,jdbcType=VARCHAR} 
   	 	and subscoredisplaysequence = #{subScoreDisplaySequence,jdbcType=INTEGER}
   	 	<if test="schoolYear != null">
    		and schoolyear = #{schoolYear,jdbcType=BIGINT}
     	</if>
  </select>
  
  <select id="checkForDuplicateDefinitionForReport" resultType="java.lang.Integer">
  	select  count(*)
   	from subscoresdescription 
   	where assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT} 
   		and subjectid = #{subjectId,jdbcType=BIGINT}
   		and report = #{report,jdbcType=VARCHAR} 
   		and subscoredefinitionname = #{subScoreDefinitionName,jdbcType=VARCHAR}
   	 	<if test="schoolYear != null">
    		and schoolyear = #{schoolYear,jdbcType=BIGINT}
     	</if>
   		
  </select>
  
  <select id="checkIfSubscoreDefinitionNameExists" resultType="java.lang.Integer">
   	select count(*)
   	from subscoreframework
   	where assessmentprogramid = #{assessmentProgramId,jdbcType=BIGINT} 
   		and subjectid = #{subjectId,jdbcType=BIGINT}
   		and subscoredefinitionname = #{subScoreDefinitionName,jdbcType=VARCHAR}
   	 	<if test="schoolYear != null">
    		and schoolyear = #{schoolYear,jdbcType=BIGINT}
     	</if>
  </select>
  
</mapper>